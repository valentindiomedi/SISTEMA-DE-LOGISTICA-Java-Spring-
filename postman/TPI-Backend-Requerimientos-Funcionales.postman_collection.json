{
  "info": {
    "name": "TPI Backend - Requerimientos Funcionales",
    "_postman_id": "tpi-backend-rf-001",
    "description": "Colecci√≥n de Postman con los requerimientos funcionales m√≠nimos del sistema:\n\n1. Registrar nueva solicitud de transporte (Cliente)\n2. Consultar estado del transporte (Cliente)\n3. Consultar rutas tentativas (Operador/Admin)\n4. Asignar ruta a solicitud (Operador/Admin)\n5. Consultar contenedores pendientes con filtros (Operador/Admin)\n6. Asignar cami√≥n a tramo validando capacidad (Operador/Admin)\n7. Determinar inicio/fin de tramo (Transportista)\n8. Calcular costo total incluyendo distancia, peso, volumen y estad√≠a\n9. Registrar y actualizar dep√≥sitos, camiones y tarifas\n10. Validar capacidad m√°xima de camiones",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8080" },
    { "key": "keycloakUrl", "value": "http://localhost:8089" },
    { "key": "client_id", "value": "postman-test" },
    { "key": "client_secret", "value": "secret-postman-123" },
    { "key": "access_token", "value": "" },
    { "key": "solicitudId", "value": "" },
    { "key": "contenedorId", "value": "" },
    { "key": "clienteId", "value": "" },
    { "key": "rutaId", "value": "" },
    { "key": "opcionId", "value": "" },
    { "key": "tramoId", "value": "" },
    { "key": "camionDominio", "value": "" },
    { "key": "depositoId", "value": "" },
    { "key": "tarifaId", "value": "" }
  ],
  "item": [
    {
      "name": "0. Autenticaci√≥n",
      "description": "Endpoints para obtener tokens de acceso seg√∫n el rol del usuario",
      "item": [
        {
          "name": "Get Token - Cliente",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var token = pm.response.json().access_token;",
                  "  pm.environment.set('access_token', token);",
                  "  pm.collectionVariables.set('access_token', token);",
                  "  console.log('‚úÖ Token de CLIENTE obtenido correctamente');",
                  "} else {",
                  "  console.log('‚ùå Error al obtener token');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                { "key": "grant_type", "value": "password" },
                { "key": "client_id", "value": "{{client_id}}" },
                { "key": "client_secret", "value": "{{client_secret}}" },
                { "key": "username", "value": "cliente1" },
                { "key": "password", "value": "1234" }
              ]
            },
            "url": {
              "raw": "{{keycloakUrl}}/realms/tpi-backend/protocol/openid-connect/token",
              "host": ["{{keycloakUrl}}"],
              "path": ["realms", "tpi-backend", "protocol", "openid-connect", "token"]
            },
            "description": "Obtiene token de autenticaci√≥n para un usuario con rol CLIENTE"
          }
        },
        {
          "name": "Get Token - Operador",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var token = pm.response.json().access_token;",
                  "  pm.environment.set('access_token', token);",
                  "  pm.collectionVariables.set('access_token', token);",
                  "  console.log('‚úÖ Token de OPERADOR obtenido correctamente');",
                  "} else {",
                  "  console.log('‚ùå Error al obtener token');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                { "key": "grant_type", "value": "password" },
                { "key": "client_id", "value": "{{client_id}}" },
                { "key": "client_secret", "value": "{{client_secret}}" },
                { "key": "username", "value": "responsable1" },
                { "key": "password", "value": "1234" }
              ]
            },
            "url": {
              "raw": "{{keycloakUrl}}/realms/tpi-backend/protocol/openid-connect/token",
              "host": ["{{keycloakUrl}}"],
              "path": ["realms", "tpi-backend", "protocol", "openid-connect", "token"]
            },
            "description": "Obtiene token de autenticaci√≥n para un usuario con rol OPERADOR"
          }
        },
        {
          "name": "Get Token - Administrador",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var token = pm.response.json().access_token;",
                  "  pm.environment.set('access_token', token);",
                  "  pm.collectionVariables.set('access_token', token);",
                  "  console.log('‚úÖ Token de ADMIN obtenido correctamente');",
                  "} else {",
                  "  console.log('‚ùå Error al obtener token');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                { "key": "grant_type", "value": "password" },
                { "key": "client_id", "value": "{{client_id}}" },
                { "key": "client_secret", "value": "{{client_secret}}" },
                { "key": "username", "value": "tester" },
                { "key": "password", "value": "1234" }
              ]
            },
            "url": {
              "raw": "{{keycloakUrl}}/realms/tpi-backend/protocol/openid-connect/token",
              "host": ["{{keycloakUrl}}"],
              "path": ["realms", "tpi-backend", "protocol", "openid-connect", "token"]
            },
            "description": "Obtiene token de autenticaci√≥n para un usuario con rol ADMIN"
          }
        },
        {
          "name": "Get Token - Transportista",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var token = pm.response.json().access_token;",
                  "  pm.environment.set('access_token', token);",
                  "  pm.collectionVariables.set('access_token', token);",
                  "  console.log('‚úÖ Token de TRANSPORTISTA obtenido correctamente');",
                  "} else {",
                  "  console.log('‚ùå Error al obtener token');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                { "key": "grant_type", "value": "password" },
                { "key": "client_id", "value": "{{client_id}}" },
                { "key": "client_secret", "value": "{{client_secret}}" },
                { "key": "username", "value": "carlos.ramirez" },
                { "key": "password", "value": "1234" }
              ]
            },
            "url": {
              "raw": "{{keycloakUrl}}/realms/tpi-backend/protocol/openid-connect/token",
              "host": ["{{keycloakUrl}}"],
              "path": ["realms", "tpi-backend", "protocol", "openid-connect", "token"]
            },
            "description": "Obtiene token de autenticaci√≥n para un usuario con rol TRANSPORTISTA"
          }
        }
      ]
    },
    {
      "name": "1. Registrar Solicitud (CLIENTE)",
      "description": "RF1: Registrar una nueva solicitud de transporte de contenedor con creaci√≥n autom√°tica del contenedor y registro del cliente si no existe",
      "item": [
        {
          "name": "1.1 Registro de Cliente (si no existe)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    pm.collectionVariables.set('clienteId', response.id);",
                  "    console.log('‚úÖ Cliente registrado con ID: ' + response.id);",
                  "  }",
                  "} else if (pm.response.code === 400) {",
                  "  console.log('‚ÑπÔ∏è El cliente ya existe, puede continuar con el flujo');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Juan P√©rez\",\n  \"email\": \"juan.perez@example.com\",\n  \"telefono\": \"+54911123456\",\n  \"username\": \"juanperez\",\n  \"password\": \"1234\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/clientes/registro",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "clientes", "registro"]
            },
            "description": "‚ö†Ô∏è ENDPOINT P√öBLICO - No requiere autenticaci√≥n. Permite que un cliente se registre en el sistema. Si el cliente ya existe, retorna error 400."
          }
        },
        {
          "name": "1.2 Crear Solicitud con Contenedor Nuevo",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    pm.collectionVariables.set('solicitudId', response.id);",
                  "    console.log('‚úÖ Solicitud creada con ID: ' + response.id);",
                  "  }",
                  "  if (response.contenedorId) {",
                  "    pm.collectionVariables.set('contenedorId', response.contenedorId);",
                  "    console.log('‚úÖ Contenedor creado con ID: ' + response.contenedorId);",
                  "  }",
                  "  if (response.estado) {",
                  "    console.log('üìã Estado inicial: ' + response.estado);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"direccionOrigen\": \"Av. Santa Fe 1234, CABA, Argentina\",\n  \"direccionDestino\": \"Av. San Mart√≠n 500, Rosario, Santa Fe, Argentina\",\n  \"clienteEmail\": \"juan.perez@example.com\",\n  \"clienteNombre\": \"Juan P√©rez\",\n  \"clienteTelefono\": \"+54911123456\",\n  \"contenedorPeso\": 500.0,\n  \"contenedorVolumen\": 5.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes"]
            },
            "description": "Crea una nueva solicitud de transporte con un contenedor nuevo. El sistema:\n- Crea autom√°ticamente el contenedor con identificaci√≥n √∫nica\n- Registra el cliente si no existe previamente (usando el email)\n- Establece el estado inicial de la solicitud (BORRADOR)"
          }
        },
        {
          "name": "1.3 Crear Solicitud con Contenedor Existente",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    pm.collectionVariables.set('solicitudId', response.id);",
                  "    console.log('‚úÖ Solicitud creada con ID: ' + response.id);",
                  "  }",
                  "  if (response.estado) {",
                  "    console.log('üìã Estado inicial: ' + response.estado);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"direccionOrigen\": \"Av. Rivadavia 2000, CABA, Argentina\",\n  \"direccionDestino\": \"Av. Col√≥n 350, C√≥rdoba, Argentina\",\n  \"clienteEmail\": \"juan.perez@example.com\",\n  \"clienteNombre\": \"Juan P√©rez\",\n  \"clienteTelefono\": \"+54911123456\",\n  \"contenedorId\": {{contenedorId}}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes"]
            },
            "description": "Crea una solicitud usando un contenedor existente (reutilizaci√≥n). El contenedorId debe existir previamente."
          }
        },
        {
          "name": "1.4 Ver Estados Disponibles de Solicitud",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}/estados-permitidos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}", "estados-permitidos"]
            },
            "description": "Muestra los estados permitidos a los que puede transicionar la solicitud desde su estado actual.\n\nEstados del sistema:\n- BORRADOR: Estado inicial\n- PROGRAMADA: Ruta asignada\n- EN_TRANSITO: En proceso de entrega\n- ENTREGADA: Completada"
          }
        }
      ]
    },
    {
      "name": "2. Consultar Estado Transporte (CLIENTE)",
      "description": "RF2: Consultar el estado del transporte de un contenedor",
      "item": [
        {
          "name": "2.1 Consultar Seguimiento de Solicitud",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}/seguimiento",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}", "seguimiento"]
            },
            "description": "Obtiene el seguimiento completo de una solicitud incluyendo:\n- **estadoSolicitud**: Estado de la solicitud (PENDIENTE, PROGRAMADA, EN_TRANSITO, FINALIZADA)\n- **rutaId**: ID de la ruta asignada\n- **origenLat/Long**: Coordenadas de origen\n- **destinoLat/Long**: Coordenadas de destino\n- **contenedorId**: ID del contenedor asignado (si existe)\n- **estadoContenedor**: Estado del contenedor (LIBRE, RESERVADO, EN_TRANSITO, ENTREGADO)\n- **ubicacionActualLat/Long**: Ubicaci√≥n actual del contenedor\n- **depositoId**: Dep√≥sito actual del contenedor"
          }
        },
        {
          "name": "2.2 Consultar Estado del Contenedor",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contenedores/{{contenedorId}}/seguimiento",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contenedores", "{{contenedorId}}", "seguimiento"]
            },
            "description": "Obtiene informaci√≥n detallada del estado y ubicaci√≥n del contenedor:\n- Estado actual (LIBRE, RESERVADO, EN_TRANSITO, ENTREGADO)\n- Ubicaci√≥n actual\n- Historial de ubicaciones\n- Solicitud asociada"
          }
        },
        {
          "name": "2.2.1 Consultar Seguimiento por Contenedor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var data = pm.response.json();",
                  "  if (data.solicitudId) {",
                  "    pm.collectionVariables.set('solicitudId', data.solicitudId);",
                  "    console.log('‚úÖ solicitudId auto-capturado: ' + data.solicitudId);",
                  "  }",
                  "  if (data.rutaId) {",
                  "    pm.collectionVariables.set('rutaId', data.rutaId);",
                  "    console.log('‚úÖ rutaId auto-capturado: ' + data.rutaId);",
                  "  }",
                  "  console.log('‚úÖ Seguimiento completo del contenedor obtenido');",
                  "} else {",
                  "  console.log('‚ùå Error al obtener seguimiento del contenedor');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/contenedor/{{contenedorId}}/seguimiento",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "contenedor", "{{contenedorId}}", "seguimiento"]
            },
            "description": "Obtiene el seguimiento completo de un contenedor buscando su √∫ltima solicitud:\n- Datos de la solicitud asociada\n- Informaci√≥n completa del contenedor con su estado actual\n- Ruta asignada con todos los tramos\n- Ubicaci√≥n actual del contenedor\n- Dep√≥sito actual (si aplica)\n\nEste endpoint es √∫til cuando solo se conoce el ID del contenedor y se necesita toda la informaci√≥n de seguimiento."
          }
        },
        {
          "name": "2.3 Ver Detalles de Solicitud",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}"]
            },
            "description": "Obtiene todos los detalles de una solicitud espec√≠fica:\n- Datos b√°sicos (origen, destino, cliente)\n- Estado actual\n- Contenedor asignado\n- Ruta y precio (si fueron calculados)\n- Fechas de creaci√≥n y actualizaci√≥n"
          }
        },
        {
          "name": "2.4 Listar Mis Solicitudes (Cliente)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes"]
            },
            "description": "Lista todas las solicitudes del cliente autenticado. El sistema filtra autom√°ticamente por el usuario logueado."
          }
        }
      ]
    },
    {
      "name": "3. Consultar Rutas Tentativas (OPERADOR/ADMIN)",
      "description": "RF3: Consultar rutas tentativas con todos los tramos sugeridos y el tiempo y costo estimados",
      "item": [
        {
          "name": "3.0.1 Crear Dep√≥sito Norte",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    pm.collectionVariables.set('depositoId', response.id);",
                  "    console.log('‚úÖ Dep√≥sito Norte creado con ID: ' + response.id);",
                  "    console.log('üìç Ubicaci√≥n: ' + response.nombre);",
                  "    console.log('üó∫Ô∏è Coordenadas: ' + response.latitud + ', ' + response.longitud);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Dep√≥sito Norte CABA\",\n  \"direccion\": \"Av. General Paz 5000, CABA, Argentina\",\n  \"latitud\": -34.5500,\n  \"longitud\": -58.4800,\n  \"costoEstadiaDiario\": 80.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos"]
            },
            "description": "‚ö†Ô∏è PREREQUISITO OBLIGATORIO - Crear m√∫ltiples dep√≥sitos para generar rutas con varios tramos.\n\nCada TRAMO de una ruta tiene:\n- origenDepositoId: Dep√≥sito de origen del tramo\n- destinoDepositoId: Dep√≥sito de destino del tramo\n\nPor ejemplo, una ruta con 3 tramos podr√≠a ser:\n- Tramo 1: Dep√≥sito Norte ‚Üí Dep√≥sito Centro\n- Tramo 2: Dep√≥sito Centro ‚Üí Dep√≥sito Sur\n- Tramo 3: Dep√≥sito Sur ‚Üí Destino Final\n\n‚ö†Ô∏è Necesitas crear AL MENOS 2-3 dep√≥sitos para que el sistema genere rutas con m√∫ltiples tramos.\n\nEste endpoint crea el Dep√≥sito Norte."
          }
        },
        {
          "name": "3.0.2 Crear Dep√≥sito Centro",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    console.log('‚úÖ Dep√≥sito Centro creado con ID: ' + response.id);",
                  "    console.log('üìç Ubicaci√≥n: ' + response.nombre);",
                  "    console.log('üó∫Ô∏è Coordenadas: ' + response.latitud + ', ' + response.longitud);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Dep√≥sito Centro CABA\",\n  \"direccion\": \"Av. C√≥rdoba 1234, CABA, Argentina\",\n  \"latitud\": -34.6037,\n  \"longitud\": -58.3816,\n  \"costoEstadiaDiario\": 100.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos"]
            },
            "description": "Crea el Dep√≥sito Centro. Este ser√° usado como punto intermedio en las rutas.\n\nRecuerda: Cuantos m√°s dep√≥sitos registres, m√°s opciones de tramos tendr√° el sistema para calcular rutas alternativas."
          }
        },
        {
          "name": "3.0.3 Crear Dep√≥sito Sur",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    console.log('‚úÖ Dep√≥sito Sur creado con ID: ' + response.id);",
                  "    console.log('üìç Ubicaci√≥n: ' + response.nombre);",
                  "    console.log('üó∫Ô∏è Coordenadas: ' + response.latitud + ', ' + response.longitud);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Dep√≥sito Sur Avellaneda\",\n  \"direccion\": \"Av. Hip√≥lito Yrigoyen 2000, Avellaneda, Argentina\",\n  \"latitud\": -34.6700,\n  \"longitud\": -58.3600,\n  \"costoEstadiaDiario\": 120.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos"]
            },
            "description": "Crea el Dep√≥sito Sur. Con 3 dep√≥sitos (Norte, Centro, Sur), el sistema podr√° generar rutas con m√∫ltiples tramos y diferentes combinaciones."
          }
        },
        {
          "name": "3.1 Generar Opciones de Rutas para Solicitud",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "  var response = pm.response.json();",
                  "  if (Array.isArray(response) && response.length > 0) {",
                  "    var primeraOpcion = response[0];",
                  "    if (primeraOpcion.id) {",
                  "      pm.collectionVariables.set('opcionId', primeraOpcion.id);",
                  "      console.log('‚úÖ Primera opci√≥n ID: ' + primeraOpcion.id);",
                  "    }",
                  "    console.log('üìä Total de opciones generadas: ' + response.length);",
                  "    response.forEach((opcion, index) => {",
                  "      console.log('Opci√≥n ' + (index + 1) + ':');",
                  "      console.log('  - Distancia: ' + opcion.distanciaTotal + ' km');",
                  "      console.log('  - Tiempo: ' + opcion.tiempoEstimado + ' min');",
                  "      console.log('  - Costo: $' + opcion.costoTotal);",
                  "      console.log('  - Tramos: ' + opcion.tramos.length);",
                  "    });",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/solicitudes/{{solicitudId}}/opciones",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "solicitudes", "{{solicitudId}}", "opciones"]
            },
            "description": "‚ö†Ô∏è IMPORTANTE: Antes de ejecutar, crea AL MENOS 2-3 dep√≥sitos usando los endpoints 3.0.x\n\nüîÑ **C√≥mo funciona:**\nCada TRAMO de una ruta conecta dos dep√≥sitos:\n- Tramo 1: origen_deposito_id ‚Üí destino_deposito_id\n- Tramo 2: origen_deposito_id ‚Üí destino_deposito_id\n- ...\n\nEl sistema:\n1. Obtiene las coordenadas de origen/destino de la solicitud\n2. Busca los dep√≥sitos m√°s cercanos al origen y destino\n3. Calcula rutas con m√∫ltiples tramos pasando por dep√≥sitos intermedios\n4. Cada tramo tiene: distancia, tiempo estimado, costo, transportista y cami√≥n\n5. Genera m√∫ltiples opciones de rutas alternativas\n\nüìä **Ejemplo con 3 dep√≥sitos:**\nSi tienes Dep√≥sito Norte, Centro y Sur:\n- Ruta 1: Origen ‚Üí Dep. Norte ‚Üí Dep. Centro ‚Üí Dep. Sur ‚Üí Destino (4 tramos)\n- Ruta 2: Origen ‚Üí Dep. Centro ‚Üí Dep. Sur ‚Üí Destino (3 tramos)\n- Ruta 3: Origen ‚Üí Dep. Norte ‚Üí Dep. Sur ‚Üí Destino (3 tramos)\n\n‚ö†Ô∏è Sin dep√≥sitos ‚Üí Error 500"
          }
        },
        {
          "name": "3.2 Consultar Opciones de Rutas Generadas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/solicitudes/{{solicitudId}}/opciones",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "solicitudes", "{{solicitudId}}", "opciones"]
            },
            "description": "Consulta las opciones de rutas previamente generadas para una solicitud.\n\nCada opci√≥n incluye:\n- Lista de tramos con origen y destino\n- Transportista y cami√≥n asignado a cada tramo\n- Distancia de cada tramo y total\n- Tiempo estimado por tramo y total\n- Costo por tramo y total\n- Estado de cada tramo"
          }
        },
        {
          "name": "3.3 Ver Detalle de una Ruta",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}"]
            },
            "description": "Obtiene los detalles completos de una ruta espec√≠fica incluyendo:\n- Solicitud asociada\n- Lista completa de tramos\n- Informaci√≥n de transportistas y camiones\n- C√°lculos de distancia, tiempo y costo\n- Estado de la ruta"
          }
        },
        {
          "name": "3.4 Listar Todas las Rutas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas"]
            },
            "description": "Lista todas las rutas del sistema con informaci√≥n b√°sica."
          }
        }
      ]
    },
    {
      "name": "4. Asignar Ruta a Solicitud (OPERADOR/ADMIN)",
      "description": "RF4: Asignar una ruta con todos sus tramos a la solicitud",
      "item": [
        {
          "name": "4.1 Confirmar Opci√≥n de Ruta (Desde Solicitud)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (response.id) {",
                  "    pm.collectionVariables.set('rutaId', response.id);",
                  "    console.log('‚úÖ Ruta confirmada con ID: ' + response.id);",
                  "  }",
                  "  if (response.tramos && response.tramos.length > 0) {",
                  "    var primerTramo = response.tramos[0];",
                  "    if (primerTramo.id) {",
                  "      pm.collectionVariables.set('tramoId', primerTramo.id);",
                  "      console.log('‚úÖ Primer tramo ID guardado: ' + primerTramo.id);",
                  "    }",
                  "  }",
                  "  console.log('‚úÖ Ruta asignada exitosamente a la solicitud');",
                  "  console.log('üìä Total de tramos: ' + (response.tramos ? response.tramos.length : 0));",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/opciones/{{opcionId}}/confirmar",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "opciones", "{{opcionId}}", "confirmar"]
            },
            "description": "Confirma una opci√≥n de ruta. Este endpoint:\n- Crea la ruta definitiva con todos sus tramos\n- Asigna la ruta completa a la solicitud\n- Actualiza el estado de la solicitud a PROGRAMADA\n- Reserva los recursos (transportistas, camiones)\n- Calcula y asigna el precio final\n- Elimina las dem√°s opciones tentativas\n\n‚ö†Ô∏è IMPORTANTE: Solo necesitas el opcionId. El endpoint obtiene autom√°ticamente el solicitudId de la opci√≥n.\n\nLa solicitud pasa de BORRADOR a PROGRAMADA autom√°ticamente."
          }
        },
        {
          "name": "4.2 Seleccionar Opci√≥n de Ruta (Desde Ruta)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  console.log('‚úÖ Opci√≥n de ruta seleccionada exitosamente');",
                  "  if (response.estado) {",
                  "    console.log('üìã Estado de ruta: ' + response.estado);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/opciones/{{opcionId}}/seleccionar",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "opciones", "{{opcionId}}", "seleccionar"]
            },
            "description": "Selecciona una opci√≥n espec√≠fica de ruta. Similar al endpoint anterior pero desde la perspectiva de la ruta."
          }
        },
        {
          "name": "4.3 Asignar Ruta a Solicitud (Directo)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}/ruta?rutaId={{rutaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}", "ruta"],
              "query": [
                {
                  "key": "rutaId",
                  "value": "{{rutaId}}"
                }
              ]
            },
            "description": "Asigna directamente una ruta existente a una solicitud sin pasar por el flujo de opciones."
          }
        },
        {
          "name": "4.4 Ver Ruta Asignada a Solicitud",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/por-solicitud/{{solicitudId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "por-solicitud", "{{solicitudId}}"]
            },
            "description": "Consulta la ruta asignada a una solicitud espec√≠fica con todos sus detalles:\n- Tramos completos\n- Transportistas y camiones asignados\n- Distancias, tiempos y costos\n- Estado de cada tramo"
          }
        }
      ]
    },
    {
      "name": "5. Consultar Contenedores Pendientes (OPERADOR/ADMIN)",
      "description": "RF5: Consultar todos los contenedores pendientes de entrega y su ubicaci√≥n/estado con filtros",
      "item": [
        {
          "name": "5.1 Listar Todos los Contenedores",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contenedores",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contenedores"]
            },
            "description": "Lista todos los contenedores del sistema. Retorna informaci√≥n b√°sica de cada contenedor."
          }
        },
        {
          "name": "5.2 Filtrar Contenedores por Estado EN_TRANSITO",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contenedores?estado=EN_TRANSITO",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contenedores"],
              "query": [
                {
                  "key": "estado",
                  "value": "EN_TRANSITO",
                  "description": "Filtra por estado EN_TRANSITO (pendientes de entrega)"
                }
              ]
            },
            "description": "Filtra contenedores que est√°n EN_TRANSITO, es decir, pendientes de entrega.\n\nEstados disponibles:\n- LIBRE: Disponible para asignar\n- OCUPADO: Asignado a una solicitud\n- EN_TRANSITO: En proceso de entrega\n- EN_DEPOSITO: En dep√≥sito intermedio\n- ENTREGADO: Ya entregado"
          }
        },
        {
          "name": "5.3 Filtrar Contenedores por Estado OCUPADO",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contenedores?estado=OCUPADO",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contenedores"],
              "query": [
                {
                  "key": "estado",
                  "value": "OCUPADO",
                  "description": "Filtra por estado OCUPADO (asignados pero no en tr√°nsito)"
                }
              ]
            },
            "description": "Filtra contenedores OCUPADOS, es decir, asignados a solicitudes pero a√∫n no en tr√°nsito."
          }
        },
        {
          "name": "5.4 Consultar Solicitudes con Filtros",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes?estado=PROGRAMADA",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes"],
              "query": [
                {
                  "key": "estado",
                  "value": "PROGRAMADA",
                  "description": "Filtra solicitudes PROGRAMADAS (pendientes de inicio)"
                }
              ]
            },
            "description": "Lista solicitudes con filtros. √ötil para ver solicitudes pendientes.\n\nEstados de solicitud:\n- PENDIENTE: Creada pero sin ruta\n- PROGRAMADA: Con ruta asignada\n- EN_TRANSITO: En proceso\n- COMPLETADA: Completada"
          }
        },
        {
          "name": "5.5 Consultar Solicitudes EN_TRANSITO",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes?estado=EN_TRANSITO",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes"],
              "query": [
                {
                  "key": "estado",
                  "value": "EN_TRANSITO",
                  "description": "Filtra solicitudes en tr√°nsito"
                }
              ]
            },
            "description": "Filtra solicitudes que est√°n actualmente EN_TRANSITO, mostrando los contenedores que est√°n siendo transportados."
          }
        },
        {
          "name": "5.6 Ver Detalle y Ubicaci√≥n de Contenedor",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contenedores/{{contenedorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contenedores", "{{contenedorId}}"]
            },
            "description": "Obtiene detalles completos de un contenedor espec√≠fico:\n- Estado actual\n- Ubicaci√≥n\n- Cliente propietario\n- Solicitud asociada (si existe)\n- Peso y volumen"
          }
        },
        {
          "name": "5.7 Seguimiento Detallado de Contenedor",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contenedores/{{contenedorId}}/seguimiento",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contenedores", "{{contenedorId}}", "seguimiento"]
            },
            "description": "Obtiene seguimiento detallado del contenedor:\n- Ubicaci√≥n actual precisa\n- Historial de ubicaciones\n- Estado actual y cambios de estado\n- Solicitud y ruta asociada\n- Estimaci√≥n de tiempo de entrega"
          }
        }
      ]
    },
    {
      "name": "6. Gesti√≥n de Estados (OPERADOR/ADMIN)",
      "description": "Endpoints complementarios para gestionar el ciclo de vida de las solicitudes y contenedores",
      "item": [
        {
          "name": "6.1 Cambiar Estado de Solicitud",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nuevoEstado\": \"EN_TRANSITO\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}/estado",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}", "estado"]
            },
            "description": "Cambia el estado de una solicitud. Estados v√°lidos:\n- BORRADOR ‚Üí PROGRAMADA (al asignar ruta)\n- PROGRAMADA ‚Üí EN_TRANSITO (al iniciar transporte)\n- EN_TRANSITO ‚Üí ENTREGADA (al completar)"
          }
        },
        {
          "name": "6.2 Iniciar Tramo de Ruta",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/tramos/{{tramoId}}/iniciar",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "tramos", "{{tramoId}}", "iniciar"]
            },
            "description": "Inicia un tramo espec√≠fico de una ruta. Actualiza:\n- Estado del tramo a EN_PROCESO\n- Estado de la solicitud a EN_TRANSITO (si es el primer tramo)\n- Estado del contenedor a EN_TRANSITO\n- Registra fecha/hora de inicio"
          }
        },
        {
          "name": "6.3 Finalizar Tramo de Ruta",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/tramos/{{tramoId}}/finalizar",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "tramos", "{{tramoId}}", "finalizar"]
            },
            "description": "Finaliza un tramo de ruta. Actualiza:\n- Estado del tramo a COMPLETADO\n- Ubicaci√≥n del contenedor\n- Si es el √∫ltimo tramo, marca solicitud como ENTREGADA\n- Registra fecha/hora de finalizaci√≥n"
          }
        },
        {
          "name": "6.4 Finalizar Solicitud Completa",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}/finalizar",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}", "finalizar"]
            },
            "description": "Marca una solicitud como finalizada/entregada. Actualiza:\n- Estado de solicitud a ENTREGADA\n- Estado de contenedor a ENTREGADO\n- Fecha de finalizaci√≥n\n- Libera recursos asignados"
          }
        }
      ]
    },
    {
      "name": "7. Asignar Cami√≥n a Tramo (OPERADOR/ADMIN)",
      "description": "RF6: Asignar cami√≥n a un tramo de traslado validando capacidad m√°xima",
      "item": [
        {
          "name": "7.1 Listar Camiones Disponibles",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/camiones",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "camiones"]
            },
            "description": "Lista todos los camiones del sistema con su informaci√≥n:\n- Dominio/Patente\n- Transportista asignado\n- Capacidad m√°xima (peso y volumen)\n- Estado de disponibilidad\n- Costos operativos"
          }
        },
        {
          "name": "7.2 Ver Detalle de Cami√≥n",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  console.log('üöõ Cami√≥n: ' + response.dominio);",
                  "  console.log('üì¶ Capacidad Peso: ' + response.capacidadPeso + ' kg');",
                  "  console.log('üì¶ Capacidad Volumen: ' + response.capacidadVolumen + ' m¬≥');",
                  "  console.log('üë§ Transportista: ' + response.nombreTransportista);",
                  "  console.log('‚úÖ Disponible: ' + response.disponible);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/camiones/{{camionDominio}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "camiones", "{{camionDominio}}"]
            },
            "description": "Obtiene detalles completos de un cami√≥n espec√≠fico por su dominio/patente."
          }
        },
        {
          "name": "7.3 Asignar Cami√≥n a Tramo (con validaci√≥n)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (response.camionDominio) {",
                  "    pm.collectionVariables.set('camionDominio', response.camionDominio);",
                  "    console.log('‚úÖ Cami√≥n asignado: ' + response.camionDominio);",
                  "  }",
                  "  if (response.id) {",
                  "    pm.collectionVariables.set('tramoId', response.id);",
                  "    console.log('‚úÖ Tramo ID: ' + response.id);",
                  "  }",
                  "} else if (pm.response.code === 400) {",
                  "  console.log('‚ùå Error de validaci√≥n de capacidad');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/tramos/{{tramoId}}/asignar-transportista?dominio={{camionDominio}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tramos", "{{tramoId}}", "asignar-transportista"],
              "query": [
                {
                  "key": "dominio",
                  "value": "{{camionDominio}}",
                  "description": "Dominio/patente del cami√≥n a asignar"
                }
              ]
            },
            "description": "Asigna un cami√≥n a un tramo espec√≠fico. El sistema valida autom√°ticamente:\n\n‚úÖ **Validaci√≥n de Capacidad:**\n- Peso del contenedor ‚â§ Capacidad m√°xima del cami√≥n\n- Volumen del contenedor ‚â§ Capacidad m√°xima del cami√≥n\n\nSi la validaci√≥n falla, retorna error 400 con mensaje descriptivo.\nSi es exitoso, actualiza el tramo con el cami√≥n y transportista asignado."
          }
        },
        {
          "name": "7.4 Registrar Nuevo Cami√≥n",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"dominio\": \"ABC123\",\n  \"marca\": \"Mercedes\",\n  \"modelo\": \"Actros\",\n  \"capacidadPesoMax\": 15000.0,\n  \"capacidadVolumenMax\": 40.0,\n  \"costoBase\": 5000.0,\n  \"costoPorKm\": 50.0,\n  \"consumoCombustiblePromedio\": 0.35,\n  \"nombreTransportista\": \"Carlos Ramirez\",\n  \"disponible\": true,\n  \"activo\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/camiones",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "camiones"]
            },
            "description": "Registra un nuevo cami√≥n en el sistema con:\n- Dominio/patente √∫nica\n- Capacidad m√°xima de peso (kg)\n- Capacidad m√°xima de volumen (m¬≥)\n- Transportista asignado\n- Costo por kil√≥metro\n- Estado de disponibilidad"
          }
        },
        {
          "name": "7.5 Asignar Transportista a Cami√≥n",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/camiones/{{camionDominio}}/asignar?nombreTransportista=Carlos Ramirez",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "camiones", "{{camionDominio}}", "asignar"],
              "query": [
                {
                  "key": "nombreTransportista",
                  "value": "Carlos Ramirez"
                }
              ]
            },
            "description": "Asigna o reasigna un transportista a un cami√≥n existente."
          }
        },
        {
          "name": "7.6 Actualizar Estado de Cami√≥n",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/camiones/{{camionDominio}}/estado?disponible=true&activo=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "camiones", "{{camionDominio}}", "estado"],
              "query": [
                {
                  "key": "disponible",
                  "value": "true",
                  "description": "Si el cami√≥n est√° disponible para asignaci√≥n"
                },
                {
                  "key": "activo",
                  "value": "true",
                  "description": "Si el cami√≥n est√° activo en el sistema"
                }
              ]
            },
            "description": "Actualiza el estado operativo de un cami√≥n:\n- disponible: true/false (para nuevas asignaciones)\n- activo: true/false (si est√° operativo)"
          }
        }
      ]
    },
    {
      "name": "8. Gesti√≥n de Tramos (TRANSPORTISTA)",
      "description": "RF7: Determinar inicio o fin de un tramo de traslado",
      "item": [
        {
          "name": "8.1 Listar Tramos de una Ruta",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (Array.isArray(response) && response.length > 0) {",
                  "    var primerTramo = response[0];",
                  "    if (primerTramo.id) {",
                  "      pm.collectionVariables.set('tramoId', primerTramo.id);",
                  "      console.log('‚úÖ Primer tramo ID: ' + primerTramo.id);",
                  "    }",
                  "    console.log('üìä Total de tramos: ' + response.length);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/tramos/por-ruta/{{rutaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tramos", "por-ruta", "{{rutaId}}"]
            },
            "description": "Lista todos los tramos de una ruta espec√≠fica con:\n- Origen y destino\n- Cami√≥n y transportista asignado\n- Estado del tramo\n- Distancia y tiempos\n- Fechas de inicio y fin"
          }
        },
        {
          "name": "8.2 Iniciar Tramo (TRANSPORTISTA)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/tramos/{{tramoId}}/iniciar?fechaHoraReal=2025-11-20T14:00:00",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "tramos", "{{tramoId}}", "iniciar"],
              "query": [
                {
                  "key": "fechaHoraReal",
                  "value": "2025-11-20T14:00:00",
                  "description": "Fecha y hora de inicio (opcional). Formato ISO-8601: YYYY-MM-DDTHH:mm:ss. Si se omite, usa la fecha/hora actual."
                }
              ]
            },
            "description": "**Rol: TRANSPORTISTA, OPERADOR o ADMIN**\n\nInicia un tramo de traslado. El sistema registra:\n- ‚úÖ Fecha y hora de inicio real\n- ‚úÖ Estado del tramo ‚Üí EN_PROCESO\n- ‚úÖ Estado del contenedor ‚Üí EN_TRANSITO\n- ‚úÖ Si es el primer tramo: Estado de solicitud ‚Üí EN_TRANSITO\n\n**Par√°metro opcional fechaHoraReal:**\nPermite especificar una fecha/hora personalizada para el inicio (√∫til para simular o registrar eventos pasados). Si se omite, se usa la fecha/hora actual del sistema.\n\nFormato: ISO-8601 (YYYY-MM-DDTHH:mm:ss)\nEjemplo: 2025-11-20T14:00:00"
          }
        },
        {
          "name": "8.3 Finalizar Tramo (TRANSPORTISTA)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/tramos/{{tramoId}}/finalizar?fechaHoraReal=2025-11-20T15:30:00",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "tramos", "{{tramoId}}", "finalizar"],
              "query": [
                {
                  "key": "fechaHoraReal",
                  "value": "2025-11-20T15:30:00",
                  "description": "Fecha y hora de finalizaci√≥n (opcional). Formato ISO-8601: YYYY-MM-DDTHH:mm:ss. Si se omite, usa la fecha/hora actual."
                }
              ]
            },
            "description": "**Rol: TRANSPORTISTA, OPERADOR o ADMIN**\n\nFinaliza un tramo de traslado. El sistema registra:\n- ‚úÖ Fecha y hora de finalizaci√≥n real\n- ‚úÖ Estado del tramo ‚Üí COMPLETADO\n- ‚úÖ Actualiza ubicaci√≥n del contenedor\n- ‚úÖ Si es el √∫ltimo tramo: Estado de solicitud ‚Üí ENTREGADA\n- ‚úÖ Calcula tiempo real del tramo\n- ‚úÖ Calcula estad√≠a en dep√≥sito (si corresponde)\n\n**Par√°metro opcional fechaHoraReal:**\nPermite especificar una fecha/hora personalizada para la finalizaci√≥n (√∫til para simular o registrar eventos pasados). Si se omite, se usa la fecha/hora actual del sistema.\n\nFormato: ISO-8601 (YYYY-MM-DDTHH:mm:ss)\nEjemplo: 2025-11-20T15:30:00\n\n**C√°lculo de estad√≠a:**\nSi el tramo finaliza en un dep√≥sito intermedio, el sistema calcular√° autom√°ticamente el costo de estad√≠a usando la diferencia entre esta fecha y la fecha de inicio del siguiente tramo."
          }
        },
        {
          "name": "8.4 Actualizar Fecha de Llegada",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/tramos/{{tramoId}}/fecha-llegada?fechaHoraReal=2025-11-23T15:30:00",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tramos", "{{tramoId}}", "fecha-llegada"],
              "query": [
                {
                  "key": "fechaHoraReal",
                  "value": "2025-11-23T15:30:00",
                  "description": "Fecha y hora real de llegada en formato ISO-8601"
                }
              ]
            },
            "description": "Actualiza la fecha de llegada real de un tramo.\n\nFormato: ISO-8601 (YYYY-MM-DDTHH:mm:ss)\nEjemplo: 2025-11-23T15:30:00"
          }
        }
      ]
    },
    {
      "name": "9. C√°lculo de Costos (OPERADOR/ADMIN)",
      "description": "RF8: Calcular costo total de entrega incluyendo distancia, peso, volumen y estad√≠a",
      "item": [
        {
          "name": "9.1 Calcular Precio Estimado",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"direccionOrigen\": \"Av. Santa Fe 1234, CABA, Argentina\",\n  \"direccionDestino\": \"Av. Corrientes 5678, CABA, Argentina\",\n  \"peso\": 500.0,\n  \"volumen\": 5.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/precio/estimado",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "precio", "estimado"]
            },
            "description": "Calcula el precio estimado para un traslado basado en:\n\n**Factores de c√°lculo:**\n- üìè Distancia total (origen ‚Üí dep√≥sitos ‚Üí destino)\n- ‚öñÔ∏è Peso del contenedor\n- üì¶ Volumen del contenedor\n- üí∞ Tarifas configuradas por rango\n\n**No incluye:**\n- Estad√≠a en dep√≥sitos (se calcula en costo real)\n- Tiempos reales de traslado"
          }
        },
        {
          "name": "9.2 Calcular Costo para Solicitud",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  console.log('üí∞ Costo Total: $' + response.costoTotal);",
                  "  console.log('üìè Distancia Total: ' + response.distanciaTotal + ' km');",
                  "  console.log('‚è±Ô∏è Tiempo Estimado: ' + response.tiempoEstimado + ' min');",
                  "  if (response.detalles) {",
                  "    console.log('üìä Detalles del c√°lculo:');",
                  "    console.log(JSON.stringify(response.detalles, null, 2));",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/precio/solicitud/{{solicitudId}}/costo",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "precio", "solicitud", "{{solicitudId}}", "costo"]
            },
            "description": "Calcula el costo completo para una solicitud espec√≠fica.\n\nObtiene autom√°ticamente:\n- Datos de origen y destino\n- Peso y volumen del contenedor\n- Ruta asignada con dep√≥sitos intermedios\n\nCalcula:\n- Costo por distancia\n- Costo por peso y volumen\n- Tiempo estimado total"
          }
        },
        {
          "name": "9.3 Calcular Distancias de Ruta",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/calcular-distancias",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "calcular-distancias"]
            },
            "description": "Calcula las distancias reales de todos los tramos de una ruta usando OSRM.\n\n**Calcula:**\n- Distancia de cada tramo (km)\n- Distancia total de la ruta\n- Tiempo estimado por tramo\n- Tiempo total estimado\n\n**Actualiza:**\n- Campos de distancia en cada tramo\n- Distancia total en la ruta"
          }
        },
        {
          "name": "9.4 Calcular Costos de Ruta",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/calcular-costos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "calcular-costos"]
            },
            "description": "Calcula los costos de todos los tramos de una ruta.\n\n**Calcula:**\n- Costo por distancia (seg√∫n tarifa/km)\n- Costo por peso y volumen\n- Costo por cami√≥n utilizado\n- Costo total por tramo\n- Costo total de la ruta\n\n**Actualiza:**\n- Campos de costo en cada tramo\n- Costo total en la ruta"
          }
        },
        {
          "name": "9.5 Calcular Todo (Distancias + Costos)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  console.log('‚úÖ C√°lculo completo realizado');",
                  "  console.log('üí∞ Costo Total: $' + response.costoTotal);",
                  "  console.log('üìè Distancia Total: ' + response.distanciaTotal + ' km');",
                  "  console.log('‚è±Ô∏è Tiempo Total: ' + response.tiempoTotal + ' min');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rutas/{{rutaId}}/calcular-completo",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rutas", "{{rutaId}}", "calcular-completo"]
            },
            "description": "Ejecuta el c√°lculo completo de una ruta:\n\n1. Calcula distancias con OSRM\n2. Calcula costos basados en tarifas\n3. Calcula tiempos estimados\n4. Actualiza la ruta con todos los datos\n\n**Ideal para:**\n- Despu√©s de confirmar una ruta\n- Antes de mostrar presupuesto al cliente\n- Para recalcular despu√©s de cambios"
          }
        },
        {
          "name": "9.6 Registrar C√°lculo Final en Solicitud",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/solicitudes/{{solicitudId}}/calcular-precio",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "solicitudes", "{{solicitudId}}", "calcular-precio"]
            },
            "description": "**Al finalizar el traslado:**\n\nRegistra el c√°lculo de tiempo real y costo real en la solicitud.\n\n**Incluye:**\n- ‚úÖ Distancia real recorrida\n- ‚úÖ Tiempo real de traslado (suma de todos los tramos)\n- ‚úÖ Costo por distancia\n- ‚úÖ Costo por peso y volumen\n- ‚úÖ **Costo por estad√≠a en dep√≥sitos** (diferencia entre fechas reales de entrada/salida)\n- ‚úÖ Costo total final\n\n**C√°lculo de estad√≠a:**\n- Se calcula por la diferencia entre:\n  - Fecha de llegada real al dep√≥sito (fin de tramo anterior)\n  - Fecha de salida real del dep√≥sito (inicio de tramo siguiente)\n- Se multiplica por tarifa de estad√≠a por hora/d√≠a"
          }
        }
      ]
    },
    {
      "name": "10. Gesti√≥n de Dep√≥sitos (OPERADOR/ADMIN)",
      "description": "RF9: Registrar y actualizar dep√≥sitos",
      "item": [
        {
          "name": "10.1 Listar Dep√≥sitos",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (Array.isArray(response) && response.length > 0) {",
                  "    var primerDeposito = response[0];",
                  "    if (primerDeposito.id) {",
                  "      pm.collectionVariables.set('depositoId', primerDeposito.id);",
                  "      console.log('‚úÖ Primer dep√≥sito ID: ' + primerDeposito.id);",
                  "    }",
                  "    console.log('üìä Total de dep√≥sitos: ' + response.length);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos"]
            },
            "description": "Lista todos los dep√≥sitos/almacenes del sistema con:\n- Nombre y direcci√≥n\n- Coordenadas (latitud, longitud)\n- Capacidad\n- Tarifa de estad√≠a\n- Estado activo/inactivo"
          }
        },
        {
          "name": "10.2 Ver Detalle de Dep√≥sito",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos/{{depositoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos", "{{depositoId}}"]
            },
            "description": "Obtiene los detalles completos de un dep√≥sito espec√≠fico."
          }
        },
        {
          "name": "10.3 Crear Dep√≥sito",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Dep√≥sito Central\",\n  \"direccion\": \"Av. Corrientes 1500, CABA, Argentina\",\n  \"latitud\": -34.603722,\n  \"longitud\": -58.381592,\n  \"capacidad\": 1000,\n  \"tarifaEstadia\": 100.0,\n  \"activo\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos"]
            },
            "description": "Registra un nuevo dep√≥sito en el sistema con:\n- Nombre identificatorio\n- Direcci√≥n f√≠sica\n- Coordenadas GPS (latitud, longitud)\n- Capacidad de almacenamiento\n- Tarifa de estad√≠a (por d√≠a/hora)\n- Estado activo"
          }
        },
        {
          "name": "10.4 Actualizar Dep√≥sito",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Dep√≥sito Central Actualizado\",\n  \"direccion\": \"Av. Corrientes 1500, CABA, Argentina\",\n  \"latitud\": -34.603722,\n  \"longitud\": -58.381592,\n  \"capacidad\": 1500,\n  \"tarifaEstadia\": 120.0,\n  \"activo\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos/{{depositoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos", "{{depositoId}}"]
            },
            "description": "Actualiza la informaci√≥n de un dep√≥sito existente:\n- Nombre\n- Direcci√≥n\n- Coordenadas\n- Capacidad\n- Tarifa de estad√≠a\n- Estado activo/inactivo"
          }
        },
        {
          "name": "10.5 Obtener Coordenadas de Dep√≥sito",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/depositos/{{depositoId}}/coordenadas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "depositos", "{{depositoId}}", "coordenadas"]
            },
            "description": "Obtiene las coordenadas GPS de un dep√≥sito para c√°lculos de rutas.\n\nRetorna:\n- depositoId\n- nombre\n- latitud\n- longitud"
          }
        }
      ]
    },
    {
      "name": "11. Gesti√≥n de Tarifas (OPERADOR/ADMIN)",
      "description": "RF9: Registrar y actualizar tarifas",
      "item": [
        {
          "name": "11.1 Listar Tarifas",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var response = pm.response.json();",
                  "  if (Array.isArray(response) && response.length > 0) {",
                  "    var primeraTarifa = response[0];",
                  "    if (primeraTarifa.id) {",
                  "      pm.collectionVariables.set('tarifaId', primeraTarifa.id);",
                  "      console.log('‚úÖ Primera tarifa ID: ' + primeraTarifa.id);",
                  "    }",
                  "    console.log('üìä Total de tarifas: ' + response.length);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/tarifas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tarifas"]
            },
            "description": "Lista todas las tarifas configuradas en el sistema con sus rangos de peso y volumen."
          }
        },
        {
          "name": "11.2 Ver Detalle de Tarifa",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/tarifas/{{tarifaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tarifas", "{{tarifaId}}"]
            },
            "description": "Obtiene los detalles de una tarifa espec√≠fica incluyendo todos sus rangos."
          }
        },
        {
          "name": "11.3 Crear Tarifa",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Tarifa Est√°ndar\",\n  \"descripcion\": \"Tarifa para contenedores est√°ndar\",\n  \"costoBase\": 500.0,\n  \"costoPorKm\": 10.0,\n  \"activa\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/tarifas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tarifas"]
            },
            "description": "Crea una nueva tarifa base con:\n- Nombre identificatorio\n- Descripci√≥n\n- Costo base fijo\n- Costo por kil√≥metro\n- Estado activo/inactivo"
          }
        },
        {
          "name": "11.4 Actualizar Tarifa",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Tarifa Est√°ndar Actualizada\",\n  \"descripcion\": \"Tarifa para contenedores est√°ndar - Actualizada 2025\",\n  \"costoBase\": 600.0,\n  \"costoPorKm\": 12.0,\n  \"activa\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/tarifas/{{tarifaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tarifas", "{{tarifaId}}"]
            },
            "description": "Actualiza una tarifa existente."
          }
        },
        {
          "name": "11.5 Agregar Rango a Tarifa",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pesoMin\": 0.0,\n  \"pesoMax\": 1000.0,\n  \"volumenMin\": 0.0,\n  \"volumenMax\": 10.0,\n  \"multiplicador\": 1.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/tarifas/{{tarifaId}}/rango",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tarifas", "{{tarifaId}}", "rango"]
            },
            "description": "Agrega un rango de peso y volumen a una tarifa.\n\nCada rango define:\n- Peso m√≠nimo y m√°ximo (kg)\n- Volumen m√≠nimo y m√°ximo (m¬≥)\n- Multiplicador de costo (1.0 = sin cambio, 1.5 = +50%, etc.)\n\nEl sistema usa estos rangos para calcular costos seg√∫n el contenedor."
          }
        },
        {
          "name": "11.6 Actualizar Rango de Tarifa",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pesoMin\": 0.0,\n  \"pesoMax\": 1500.0,\n  \"volumenMin\": 0.0,\n  \"volumenMax\": 15.0,\n  \"multiplicador\": 1.2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/tarifas/{{tarifaId}}/rango/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "tarifas", "{{tarifaId}}", "rango", "1"]
            },
            "description": "Actualiza un rango existente de una tarifa."
          }
        }
      ]
    }
  ]
}
